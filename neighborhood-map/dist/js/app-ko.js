"use strict";!function(){var e={list:ko.observableArray([]),location:ko.observable(""),coordinates:ko.observable({}),getData:function(){var t=this;fetch("../data.json").then(function(e){return e.json()}).then(function(e){t.list(e.response.venues),t.coordinates({lat:e.response.geocode.feature.geometry.center.lat,lng:e.response.geocode.feature.geometry.center.lng}),setTimeout(t.newData,100)}).catch(function(e){return alert("Oops.There is a error",e)})},getDataOnSubmit:function(){var t=this;fetch("https://api.foursquare.com/v2/venues/search?near="+this.location()+"&oauth_token=YHUU0MTN4R21M5JE21AL5J4EJMXIJCBQGTSDGF4ODPGGSNOR&v=20180526").then(function(e){return e.json()}).then(function(e){t.list(e.response.venues),t.coordinates({lat:e.response.geocode.feature.geometry.center.lat,lng:e.response.geocode.feature.geometry.center.lng})}).then(this.newData).catch(function(e){return alert("Oops.There is a error.Please try for a real Location")})},newMap:function(){var e=new google.maps.Map(document.getElementById("map"),{center:{lat:this.coordinates().lat,lng:this.coordinates().lng},zoom:15});return e},newData:function(){var t=e.newMap();e.list().forEach(function(e){MapView.addMarker(t,e)})}};ko.applyBindings(e),document.addEventListener("DOMContentLoaded",function(){e.getData()})}();